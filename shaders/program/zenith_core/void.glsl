/*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸŒŸ zenith_core | void - Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„ÙØ±Ø§Øº ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ | VcorA ğŸŒŸ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Advanced Void & Sky Rendering System
    Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„ÙØ±Ø§Øº ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

    âš¡ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© / Core Features:
    ----------------------------------------
    â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¬ÙˆÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù… / Advanced Atmospheric Sky System
    â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…Ø­Ø³Ù† / Enhanced Stars & Moon System
    â€¢ Ù†Ø¸Ø§Ù… Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© / Dynamic Moon Phases System
    â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬ÙˆÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© / Interactive Atmospheric Colors
    â€¢ Ù†Ø¸Ø§Ù… ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù…Ø§Ø¡ / Weather Effects on Sky
    â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù…Ø³ ÙˆØ§Ù„Ù‚Ù…Ø± Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ®ØµÙŠØµ / Customizable Sun & Moon System

    ğŸ¯ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ© / Subsystems:
    --------------------------------
    [Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„Ø³Ù…Ø§Ø¡] - Sky Rendering System
    [Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¬ÙˆÙ…] - Star System with Enhanced Brightness
    [Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ù‚Ù…Ø±] - Moon Phase Calculation System
    [ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØºØ±ÙˆØ¨] - Sunset & Sunrise Effects
    [Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬ÙˆÙŠØ©] - Atmospheric Color Dynamics
    [ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ÙƒÙ‡ÙˆÙ] - Cave Atmosphere Effects

    ğŸ“ˆ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© / Advanced Optimizations:
    ----------------------------------------------
    â˜… Dynamic Sky Colors: Ø£Ù„ÙˆØ§Ù† Ø³Ù…Ø§Ø¡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
    â˜… Enhanced Moon Rendering: Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ù‚Ù…Ø± Ù…Ø­Ø³Ù†
    â˜… Atmospheric Volume System: Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¬ÙˆÙŠ
    â˜… Weather Integration: ØªÙƒØ§Ù…Ù„ ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø·Ù‚Ø³
    â˜… Multi-Dimensional Support: Ø¯Ø¹Ù… Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©

    ğŸ”§ Ù…Ø·ÙˆØ± Ø¨ÙˆØ§Ø³Ø·Ø© / Developed by: VcorA
    ğŸ“… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø®ÙŠØ± / Last Updated: 2025
    ğŸ® Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ / Compatible with: OptiFine & Iris

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Core Library Includes | Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#include "/lib/shader_modules/shader_master.glsl"

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Fragment Shader Implementation | ØªØ·Ø¨ÙŠÙ‚ Fragment Shader
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#ifdef FRAGMENT_SHADER

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Input Variables | Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
flat in vec3 upVec, sunVec;    // Ù…ØªØ¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØ¬Ø§Ù‡ / Direction vectors
flat in vec4 glColor;          // Ù„ÙˆÙ† OpenGL / OpenGL color

#ifdef OVERWORLD
    flat in float vanillaStars; // ÙƒØ´Ù Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© / Vanilla stars detection
#endif

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Enhanced Atmospheric Calculations | Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø¬ÙˆÙŠ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
float SdotU = dot(sunVec, upVec);

// Ù†Ø¸Ø§Ù… Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… / Advanced Sun Factor System
float sunFactor = SdotU < 0.0 ? 
    clamp(SdotU + 0.375, 0.0, 0.75) / 0.75 : 
    clamp(SdotU + 0.03125, 0.0, 0.0625) / 0.0625;

float sunVisibility = clamp(SdotU + 0.0625, 0.0, 0.125) / 0.125;
float sunVisibility2 = sunVisibility * sunVisibility;
float shadowTimeVar1 = abs(sunVisibility - 0.5) * 2.0;
float shadowTimeVar2 = shadowTimeVar1 * shadowTimeVar1;
float shadowTime = shadowTimeVar2 * shadowTimeVar2;

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Essential Library Includes | Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#include "/lib/atmospherics/zenith_atmospheric_core.glsl"

#ifdef OVERWORLD
    #include "/lib/atmospherics/atmosphericVolumetricSystem.glsl"
#endif

#ifdef CAVE_FOG
    #include "/lib/atmospherics/particles/depthFactor.glsl"
#endif

#ifdef ATM_COLOR_MULTS
    #include "/lib/color_schemes/color_effects_system.glsl"
#endif

#ifdef MOON_PHASE_INF_ATMOSPHERE
    #include "/lib/color_schemes/color_effects_system.glsl"
#endif

#ifdef COLOR_CODED_PROGRAMS
    #include "/lib/effects/effects_unified.glsl"
#endif

#if SUN_MOON_STYLE >= 2
    #include "/lib/atmospherics/zenith_atmospheric_core.glsl"
#endif

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Main Void Rendering Function | Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„ÙØ±Ø§Øº
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
void main() {
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Initial Color Processing | Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    vec4 color = vec4(glColor.rgb, 1.0);

    #ifdef OVERWORLD
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Vanilla Stars Culling | Ù‚Ø·Ø¹ Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ©
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        if (vanillaStars > 0.5) {
            discard; // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© / Remove vanilla stars
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Iris Compatibility Fix | Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Iris
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        #if IRIS_VERSION >= 10800 && IRIS_VERSION < 10805
            if (renderStage == MC_RENDER_STAGE_MOON) {
                discard; // Ø¥ØµÙ„Ø§Ø­ Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„Ø´Ù…Ø³ / Fixes sun disappearing issue
            }
        #endif

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Enhanced Spatial Coordinate System | Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        vec4 screenPos = vec4(gl_FragCoord.xy / vec2(viewWidth, viewHeight), gl_FragCoord.z, 1.0);
        vec4 viewPos = gbufferProjectionInverse * (screenPos * 2.0 - 1.0);
        viewPos /= viewPos.w;
        vec3 nViewPos = normalize(viewPos.xyz);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Advanced View Direction Calculations | Ø­Ø³Ø§Ø¨Ø§Øª Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        float VdotU = dot(nViewPos, upVec);
        float VdotS = dot(nViewPos, sunVec);
        float dither = Bayer8(gl_FragCoord.xy);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Enhanced Sky Rendering System | Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø­Ø³Ù†
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        color.rgb = GetSky(VdotU, VdotS, dither, true, false);

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Atmospheric Color Enhancement | ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬ÙˆÙŠØ©
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        #ifdef ATM_COLOR_MULTS
            color.rgb *= GetAtmColorMult();
        #endif

        #ifdef MOON_PHASE_INF_ATMOSPHERE
            color.rgb *= moonPhaseInfluence; // ØªØ£Ø«ÙŠØ± Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ù‚Ù…Ø± / Moon phase influence
        #endif

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Enhanced Star System | Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…Ø­Ø³Ù†
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        vec2 starCoord = GetStarCoord(viewPos.xyz, 0.5);
        vec3 starLight = GetStars(starCoord, VdotU, VdotS);
        
        // ØªØ­Ø³ÙŠÙ† Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ù†Ø¬ÙˆÙ… / Enhanced star brightness
        starLight *= 1.3; // Ø²ÙŠØ§Ø¯Ø© Ø³Ø·ÙˆØ¹ Ø§Ù„Ù†Ø¬ÙˆÙ… / Increase star brightness
        color.rgb += starLight;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Advanced Sun & Moon Rendering System | Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„Ø´Ù…Ø³ ÙˆØ§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        #if SUN_MOON_STYLE >= 2 && !defined(DISABLE_UNBOUND_SUN_MOON)
        #ifndef DISABLE_UNBOUND_SUN_MOON
            float absVdotS = abs(VdotS);
            
            // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            // Dynamic Sun/Moon Size Configuration | Ø¥Ø¹Ø¯Ø§Ø¯ Ø­Ø¬Ù… Ø§Ù„Ø´Ù…Ø³/Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            #if SUN_MOON_STYLE == 2
                float sunSizeFactor1 = 0.9975;
                float sunSizeFactor2 = 400.0;
                float moonCrescentOffset = 0.0055;
                float moonPhaseFactor1 = 2.45;
                float moonPhaseFactor2 = 750.0;
            #else
                float sunSizeFactor1 = 0.9983;
                float sunSizeFactor2 = 588.235;
                float moonCrescentOffset = 0.0042;
                float moonPhaseFactor1 = 2.2;
                float moonPhaseFactor2 = 1000.0;
            #endif
            
            if (absVdotS > sunSizeFactor1) {
                float sunMoonMixer = sqrt1(sunSizeFactor2 * (absVdotS - sunSizeFactor1));

                // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                // Weather Integration System | Ù†Ø¸Ø§Ù… ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø·Ù‚Ø³
                // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                #ifdef SUN_MOON_DURING_RAIN
                    sunMoonMixer *= 1.0 - 0.4 * rainFactor2; // ØªØ£Ø«ÙŠØ± Ø®ÙÙŠÙ Ù„Ù„Ù…Ø·Ø± / Light rain effect
                #else
                    sunMoonMixer *= 1.0 - rainFactor2; // ØªØ£Ø«ÙŠØ± ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø·Ø± / Full rain effect
                #endif

                // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                // Enhanced Sun Rendering | Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…Ø­Ø³Ù†
                // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                if (VdotS > 0.0) {
                    sunMoonMixer = pow2(sunMoonMixer) * GetHorizonFactor(SdotU);

                    #ifdef CAVE_FOG
                        sunMoonMixer *= 1.0 - 0.65 * GetCaveFactor(); // ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙ‡ÙˆÙ / Cave effect
                    #endif

                    // Ø£Ù„ÙˆØ§Ù† Ø´Ù…Ø³ Ø°Ù‡Ø¨ÙŠØ© Ù…Ø­Ø³Ù†Ø© / Enhanced golden sun colors
                    vec3 sunColor = vec3(1.2, 0.7, 0.4) * 12.0; // Ø£Ù„ÙˆØ§Ù† Ø£ÙƒØ«Ø± Ø¯ÙØ¦Ø§Ù‹ / Warmer colors
                    color.rgb = mix(color.rgb, sunColor, sunMoonMixer);
                    
                } else {
                    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    // Advanced Moon Rendering System | Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    float horizonFactor = GetHorizonFactor(-SdotU);
                    sunMoonMixer = max0(sunMoonMixer - 0.25) * 1.33333 * horizonFactor;

                    // Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù†Ø³ÙŠØ¬ Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…Ø­Ø³Ù†Ø© / Enhanced moon texture coordinates
                    starCoord = GetStarCoord(viewPos.xyz, 1.0) * 0.5 + 0.617;
                    
                    // Ù†Ø¸Ø§Ù… Ù†Ø³ÙŠØ¬ Ø§Ù„Ù‚Ù…Ø± Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª / Multi-layer moon texture system
                    float moonNoise = texture2D(noisetex, starCoord).g
                                    + texture2D(noisetex, starCoord * 2.5).g * 0.7
                                    + texture2D(noisetex, starCoord * 5.0).g * 0.5;
                    moonNoise = max0(moonNoise - 0.75) * 1.7;
                    
                    // Ø£Ù„ÙˆØ§Ù† Ù‚Ù…Ø± Ù…Ø­Ø³Ù†Ø© / Enhanced moon colors
                    vec3 moonColor = vec3(0.45, 0.48, 0.6) * 
                                   (1.3 - (0.25 + 0.25 * sqrt1(nightFactor)) * moonNoise);

                    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    // Dynamic Moon Phase System | Ù†Ø¸Ø§Ù… Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
                    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    if (moonPhase >= 1) {
                        float moonPhaseOffset = 0.0;
                        
                        if (moonPhase != 4) {
                            moonPhaseOffset = moonCrescentOffset;
                            moonColor *= 9.5; // Ø³Ø·ÙˆØ¹ Ø£ÙƒØ¨Ø± Ù„Ù„Ù‡Ù„Ø§Ù„ / Brighter crescent
                        } else {
                            moonColor *= 11.0; // Ø³Ø·ÙˆØ¹ Ø£ÙƒØ¨Ø± Ù„Ù„Ø¨Ø¯Ø± / Brighter full moon
                        }
                        
                        if (moonPhase > 4) {
                            moonPhaseOffset = -moonPhaseOffset;
                        }

                        // Ø­Ø³Ø§Ø¨Ø§Øª Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© / Advanced moon angle calculations
                        float ang = fract(timeAngle - (0.25 + moonPhaseOffset));
                        ang = (ang + (cos(ang * 3.14159265358979) * -0.5 + 0.5 - ang) / 3.0) * 6.28318530717959;
                        
                        // Ø¨ÙŠØ§Ù†Ø§Øª Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…Ø­Ø³Ù†Ø© / Enhanced sun rotation data
                        vec2 sunRotationData2 = vec2(cos(sunPathRotation * 0.01745329251994), 
                                                   -sin(sunPathRotation * 0.01745329251994));
                        vec3 rawSunVec2 = (gbufferModelView * 
                                         vec4(vec3(-sin(ang), cos(ang) * sunRotationData2) * 2000.0, 1.0)).xyz;

                        float moonPhaseVdotS = dot(nViewPos, normalize(rawSunVec2.xyz));

                        // ØªØ·Ø¨ÙŠÙ‚ ØªØ£Ø«ÙŠØ± Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ù‚Ù…Ø± / Apply moon phase effect
                        sunMoonMixer *= pow2(1.0 - min1(pow(abs(moonPhaseVdotS), moonPhaseFactor2) * moonPhaseFactor1));
                    } else {
                        moonColor *= 5.0; // Ù‚Ù…Ø± Ø¬Ø¯ÙŠØ¯ Ø®Ø§ÙØª / Dim new moon
                    }

                    #ifdef CAVE_FOG
                        sunMoonMixer *= 1.0 - 0.5 * GetCaveFactor(); // ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙ‡ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø± / Cave effect on moon
                    #endif

                    color.rgb = mix(color.rgb, moonColor, sunMoonMixer);
                }
            }
        #endif
        #endif // DISABLE_UNBOUND_SUN_MOON
    #endif

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Blindness Effect Integration | ØªÙƒØ§Ù…Ù„ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¹Ù…Ù‰
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    color.rgb *= 1.0 - maxBlindnessDarkness;

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Color Coding Debug System | Ù†Ø¸Ø§Ù… ØªØ±Ù…ÙŠØ² Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„Ù„ØªØ·ÙˆÙŠØ±
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    #ifdef COLOR_CODED_PROGRAMS
        ColorCodeProgram(color, -1);
    #endif

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Final Output Buffer | Ù…Ø®Ø²Ù† Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /* DRAWBUFFERS:0 */
    gl_FragData[0] = color; // Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø³Ù…Ø§Ø¡ / Final sky color
}

#endif

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Vertex Shader Implementation | ØªØ·Ø¨ÙŠÙ‚ Vertex Shader
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#ifdef VERTEX_SHADER

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Output Variables | Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
flat out vec3 upVec, sunVec;    // Ù…ØªØ¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØ¬Ø§Ù‡ / Direction vectors
flat out vec4 glColor;          // Ù„ÙˆÙ† OpenGL / OpenGL color

#ifdef OVERWORLD
    flat out float vanillaStars; // ÙƒØ´Ù Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© / Vanilla stars detection
#endif

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Vertex Processing Main Function | Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Vertex
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
void main() {
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Primary Vertex Transformation | Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ù€ Vertex
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    gl_Position = ftransform();

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Color Information Transfer | Ù†Ù‚Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    glColor = gl_Color;

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Direction Vector Setup | Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØ¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØ¬Ø§Ù‡
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    upVec = normalize(gbufferModelView[1].xyz);
    sunVec = GetSunVector();

    #ifdef OVERWORLD
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Enhanced Vanilla Star Detection | ÙƒØ´Ù Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Ù†Ø¸Ø§Ù… ÙƒØ´Ù Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨ÙˆØ§Ø³Ø·Ø© Builderb0y Ù…Ø­Ø³Ù† / Enhanced Vanilla Star Detection by Builderb0y
        vanillaStars = float(glColor.r == glColor.g && 
                           glColor.g == glColor.b && 
                           glColor.r > 0.0 && 
                           glColor.r < 0.51);
    #endif
}

#endif

/*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© VcorA - Ù†Ø¸Ø§Ù… Ø±Ù†Ø¯Ø±ÙŠÙ†Øº Ø§Ù„ÙØ±Ø§Øº ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
    Developed by VcorA - Advanced Void & Sky Rendering System
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/
